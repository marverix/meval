/* meval v0.4.0 | Copyright 2019 (c) Marek Sieroci≈Ñski| https://github.com/marverix/meval/blob/master/LICENSE */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).meval=n()}(this,function(){"use strict";function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t={NAME:"[A-Za-z$_][A-Za-z0-9$_.]*"};t.METHOD="(".concat(t.NAME,")\\((.*)\\)"),t.PART="".concat(t.NAME,"(?:\\(.*\\))?"),t.THREE_ARG="^(.+)\\?(.+):(.+)$",t.ACCESSOR="(".concat(t.PART,")\\.(").concat(t.PART,")"),t.STRING='(["\\\'])([^"]*)\\1',t.FLOAT="[0-9]+\\.[0-9]+",t.INTEGER="[0-9]+",t.BOOLEAN="true|false";var n={REGEXP:t,ALLOWED_GLOBAL_OBJECTS:["String","Number","Array","Object","Date","Math"],get1ArgOpRegex:function(t){return"^(".concat(t,")(.+)$")},get2ArgOpRegex:function(t){return"^(.+)(".concat(t,")(.+)$")}},h=n.REGEXP,s=n.ALLOWED_GLOBAL_OBJECTS,e=n.get1ArgOpRegex,i=n.get2ArgOpRegex;function r(t,n){if("string"!=typeof t)throw new TypeError("Expressions must be a string");this.expression=t,this.context=n,this.run=function(){return this.current=[],this._digest(this.expression)},this._digest=function(t){var n;if(null!=(n=(t=t.trim()).match(new RegExp(h.THREE_ARG))))return this._digest(n[1])?this._digest(n[2]):this._digest(n[3]);if(null!=(n=this._match2ArgOp("\\|\\|",t)))return n[1]||n[3];if(null!=(n=this._match2ArgOp("&&",t)))return n[1]&&n[3];if(null!=(n=this._match2ArgOp("!==",t)))return n[1]!==n[3];if(null!=(n=this._match2ArgOp("===",t)))return n[1]===n[3];if(null!=(n=this._match2ArgOp("!=",t)))return n[1]!=n[3];if(null!=(n=this._match2ArgOp("==",t)))return n[1]==n[3];if(null!=(n=this._match2ArgOp("<=",t)))return n[1]<=n[3];if(null!=(n=this._match2ArgOp(">=",t)))return n[1]>=n[3];if(null!=(n=this._match2ArgOp("<",t)))return n[1]<n[3];if(null!=(n=this._match2ArgOp(">",t)))return n[1]>n[3];if(null!=(n=this._match2ArgOp("-",t)))return n[1]-n[3];if(null!=(n=this._match2ArgOp("\\+",t)))return n[1]+n[3];if(null!=(n=this._match2ArgOp("%",t)))return n[1]%n[3];if(null!=(n=this._match2ArgOp("\\/",t)))return n[1]/n[3];if(null!=(n=this._match2ArgOp("\\*",t)))return n[1]*n[3];if(null!=(n=this._match1ArgOp("!",t)))return!n[2];if(null!=(n=this._match1ArgOp("typeof",t)))return l(n[2]);if(null==(n=t.match(new RegExp(h.ACCESSOR))))return null!=(n=t.match(new RegExp(h.BOOLEAN)))?"true"==n[0]:null!=(n=t.match(new RegExp(h.STRING)))?n[2]:null!=(n=t.match(new RegExp(h.FLOAT)))?parseFloat(n[0]):null!=(n=t.match(new RegExp(h.INTEGER)))?parseInt(n[0]):-1<s.indexOf(t)?global[t]:this.context[t];var r=this._digest(n[1]),e=n[2];if(null==(n=e.match(new RegExp(h.METHOD))))return r[e];for(var i=n[2].split(","),u=0;u<i.length;u++)i[u]=this._digest(i[u]);return r[n[1]].apply(r,i)},this._match1ArgOp=function(t,n){var r=n.match(new RegExp(e(t)));return null!=r&&(r[2]=this._digest(r[2])),r},this._match2ArgOp=function(t,n){var r=n.match(new RegExp(i(t)));return null!=r&&(r[1]=this._digest(r[1]),r[3]=this._digest(r[3])),r}}return function(t){return new r(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).run()}});
