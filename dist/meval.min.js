/* meval v0.2.0 | Copyright 2019 (c) Marek Sieroci≈Ñski| https://github.com/marverix/meval/blob/master/LICENSE */
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).meval=n()}(this,function(){"use strict";var t={NAME:"[A-Za-z$_][A-Za-z0-9$_.]*"};t.METHOD="(".concat(t.NAME,")\\((.*)\\)"),t.PART="".concat(t.NAME,"(?:\\(.*\\))?"),t.THREE_ARG="^(.+)\\?(.+):(.+)$",t.ACCESSOR="(".concat(t.PART,")\\.(").concat(t.PART,")"),t.STRING='(["\\\'])([^"]*)\\1',t.FLOAT="[0-9]+\\.[0-9]+",t.INTEGER="[0-9]+",t.BOOLEAN="true|false";var n={REGEXP:t,ALLOWED_GLOBAL_OBJECTS:["String","Number","Array","Object","Date","Math"],get2ArgOpRegex:function(t){return"^(.+)(".concat(t,")(.+)$")}},h=n.REGEXP,s=n.ALLOWED_GLOBAL_OBJECTS,r=n.get2ArgOpRegex;function e(t,n){if("string"!=typeof t)throw new TypeError("Expressions must be a string");this.expression=t,this.context=n,this.run=function(){return this.current=[],this._digest(this.expression)},this._digest=function(t){var n;if(null!=(n=(t=t.trim()).match(new RegExp(h.THREE_ARG))))return this._digest(n[1])?this._digest(n[2]):this._digest(n[3]);if(null!=(n=this._match2ArgOp("\\|\\|",t)))return n[1]||n[3];if(null!=(n=this._match2ArgOp("&&",t)))return n[1]&&n[3];if(null!=(n=this._match2ArgOp("!==",t)))return n[1]!==n[3];if(null!=(n=this._match2ArgOp("===",t)))return n[1]===n[3];if(null!=(n=this._match2ArgOp("!=",t)))return n[1]!=n[3];if(null!=(n=this._match2ArgOp("==",t)))return n[1]==n[3];if(null!=(n=this._match2ArgOp("<=",t)))return n[1]<=n[3];if(null!=(n=this._match2ArgOp(">=",t)))return n[1]>=n[3];if(null!=(n=this._match2ArgOp("<",t)))return n[1]<n[3];if(null!=(n=this._match2ArgOp(">",t)))return n[1]>n[3];if(null!=(n=this._match2ArgOp("-",t)))return n[1]-n[3];if(null!=(n=this._match2ArgOp("\\+",t)))return n[1]+n[3];if(null!=(n=this._match2ArgOp("%",t)))return n[1]%n[3];if(null!=(n=this._match2ArgOp("\\/",t)))return n[1]/n[3];if(null!=(n=this._match2ArgOp("\\*",t)))return n[1]*n[3];if(null==(n=t.match(new RegExp(h.ACCESSOR))))return null!=(n=t.match(new RegExp(h.BOOLEAN)))?"true"==n[0]:null!=(n=t.match(new RegExp(h.STRING)))?n[2]:null!=(n=t.match(new RegExp(h.FLOAT)))?parseFloat(n[0]):null!=(n=t.match(new RegExp(h.INTEGER)))?parseInt(n[0]):-1<s.indexOf(t)?global[t]:this.context[t];var e=this._digest(n[1]),r=n[2];if(null==(n=r.match(new RegExp(h.METHOD))))return e[r];for(var i=n[2].split(","),u=0;u<i.length;u++)i[u]=this._digest(i[u]);return e[n[1]].apply(e,i)},this._match2ArgOp=function(t,n){var e=n.match(new RegExp(r(t)));return null!=e&&(e[1]=this._digest(e[1]),e[3]=this._digest(e[3])),e}}return function(t){return new e(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).run()}});
